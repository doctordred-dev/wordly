# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Authentication –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∞–π—Ç–æ–≤ –Ω–∞ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ Supabase

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞](#–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞)
3. [–ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#–ø–æ—à–∞–≥–æ–≤–∞—è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–∞–π—Ç–æ–≤](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–¥–ª—è-–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö-—Å–∞–π—Ç–æ–≤)
5. [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–æ–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç Supabase** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∞–π—Ç–∞—Ö**. –≠—Ç–æ —É–¥–æ–±–Ω–æ, —ç–∫–æ–Ω–æ–º–∏—á–Ω–æ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤—Ö–æ–¥–∏—Ç—å –Ω–∞ –≤—Å–µ –≤–∞—à–∏ —Å–∞–π—Ç—ã —Å –æ–¥–Ω–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º.

### –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?
- ‚úÖ –û–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç Supabase = –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∞–π—Ç–æ–≤
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—Ö–æ–¥–∏—Ç—å –Ω–∞ –≤—Å–µ —Å–∞–π—Ç—ã —Å –æ–¥–Ω–∏–º Google –∞–∫–∫–∞—É–Ω—Ç–æ–º
- ‚úÖ –û–±—â–∞—è –±–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ö–∞–∂–¥—ã–π —Å–∞–π—Ç –∏–º–µ–µ—Ç —Å–≤–æ–∏ —Ç–∞–±–ª–∏—Ü—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –¥–µ–Ω–µ–≥ (–æ–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç –≤–º–µ—Å—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö)

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### üí∞ –≠–∫–æ–Ω–æ–º–∏—è
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Supabase**: 2 –ø—Ä–æ–µ–∫—Ç–∞ –º–∞–∫—Å–∏–º—É–º
- **–° –æ–¥–Ω–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º**: –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∞–π—Ç–æ–≤
- **–û–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç = –æ–¥–Ω–∞ –æ–ø–ª–∞—Ç–∞** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)

### üîê –ï–¥–∏–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –æ–¥–∏–Ω —Ä–∞–∑
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –Ω–∞ –≤—Å–µ—Ö –≤–∞—à–∏—Ö —Å–∞–π—Ç–∞—Ö
- –ï–¥–∏–Ω–∞—è –±–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û–±—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å –∏ –∞–≤–∞—Ç–∞—Ä

### üóÑÔ∏è –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ö–∞–∂–¥—ã–π —Å–∞–π—Ç –∏–º–µ–µ—Ç —Å–≤–æ–∏ —Ç–∞–±–ª–∏—Ü—ã
- –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–∞–π—Ç–∞–º–∏
- –ü–æ–ª–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ RLS (Row Level Security)

---

## –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Supabase –ø—Ä–æ–µ–∫—Ç–∞

#### 1.1 –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç Supabase
–î–ª—è Wordly –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–µ–∫—Ç: **tiny-life-coach**
- URL: https://supabase.com/dashboard/project/imcszsrkfjclekohqebc

#### 1.2 –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Authentication** ‚Üí **URL Configuration**
2. –ó–¥–µ—Å—å –≤—ã —É–≤–∏–¥–∏—Ç–µ:
   - **Site URL** - –≥–ª–∞–≤–Ω—ã–π URL –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞
   - **Redirect URLs** - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö URL –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞

---

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Cloud Console

#### 2.1 –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: –Ω–∞–ø—Ä–∏–º–µ—Ä, "My Apps Auth"

#### 2.2 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ OAuth Consent Screen
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **APIs & Services** ‚Üí **OAuth consent screen**
2. –í—ã–±–µ—Ä–∏—Ç–µ **External** (–¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **App name**: –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Wordly & MyApp")
   - **User support email**: –í–∞—à email
   - **Developer contact**: –í–∞—à email
4. –ù–∞–∂–º–∏—Ç–µ **Save and Continue**
5. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ **Scopes** –Ω–∞–∂–º–∏—Ç–µ **Save and Continue** (–æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
6. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
7. –ù–∞–∂–º–∏—Ç–µ **Save and Continue**

#### 2.3 –°–æ–∑–¥–∞–π—Ç–µ OAuth Client ID
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Credentials**
2. –ù–∞–∂–º–∏—Ç–µ **Create Credentials** ‚Üí **OAuth client ID**
3. –í—ã–±–µ—Ä–∏—Ç–µ **Web application**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:

**–ù–∞–∑–≤–∞–Ω–∏–µ**: "Multi-Site Auth Client"

**Authorized JavaScript origins** (–æ—Ç–∫—É–¥–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã):
```
http://localhost:3000
http://localhost:3001
https://wordly.vercel.app
https://your-other-site.vercel.app
https://your-custom-domain.com
```

**Authorized redirect URIs** (–∫—É–¥–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã):
```
https://imcszsrkfjclekohqebc.supabase.co/auth/v1/callback
http://localhost:3000/auth/callback
http://localhost:3001/auth/callback
https://wordly.vercel.app/auth/callback
https://your-other-site.vercel.app/auth/callback
https://your-custom-domain.com/auth/callback
```

5. –ù–∞–∂–º–∏—Ç–µ **Create**
6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**:
   - Client ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789-abc123.apps.googleusercontent.com`)
   - Client Secret (–Ω–∞–ø—Ä–∏–º–µ—Ä: `GOCSPX-abc123xyz`)

---

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase

#### 3.1 –í–∫–ª—é—á–∏—Ç–µ Google –ø—Ä–æ–≤–∞–π–¥–µ—Ä
1. –í Supabase: **Authentication** ‚Üí **Providers**
2. –ù–∞–π–¥–∏—Ç–µ **Google**
3. –í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å
4. –í—Å—Ç–∞–≤—å—Ç–µ:
   - **Client ID** (–∏–∑ Google Cloud Console)
   - **Client Secret** (–∏–∑ Google Cloud Console)
5. –ù–∞–∂–º–∏—Ç–µ **Save**

#### 3.2 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Redirect URLs
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication** ‚Üí **URL Configuration**
2. –í –ø–æ–ª–µ **Site URL** —É–∫–∞–∂–∏—Ç–µ –≥–ª–∞–≤–Ω—ã–π —Å–∞–π—Ç:
   ```
   https://wordly.vercel.app
   ```

3. –í –ø–æ–ª–µ **Redirect URLs** –¥–æ–±–∞–≤—å—Ç–µ –í–°–ï –≤–∞—à–∏ —Å–∞–π—Ç—ã (–∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):
   ```
   http://localhost:3000/**
   http://localhost:3001/**
   https://wordly.vercel.app/**
   https://your-other-site.vercel.app/**
   https://your-custom-domain.com/**
   ```

   **–í–∞–∂–Ω–æ**: `/**` –≤ –∫–æ–Ω—Ü–µ –æ–∑–Ω–∞—á–∞–µ—Ç "–≤—Å–µ –ø—É—Ç–∏ –Ω–∞ —ç—Ç–æ–º –¥–æ–º–µ–Ω–µ"

4. –ù–∞–∂–º–∏—Ç–µ **Save**

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–∞–π—Ç–æ–≤

### –°–∞–π—Ç 1: Wordly (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

**–î–æ–º–µ–Ω**: `https://wordly.vercel.app`

**–¢–∞–±–ª–∏—Ü—ã –≤ Supabase**:
- `flashcards` - –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Å–ª–æ–≤
- `quiz_results` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–≤–∏–∑–æ–≤

**–§–∞–π–ª `.env.local`**:
```env
NEXT_PUBLIC_SUPABASE_URL=https://imcszsrkfjclekohqebc.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à-anon-key
```

### –°–∞–π—Ç 2: –í–∞—à –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–µ–∫—Ç

**–î–æ–º–µ–Ω**: `https://your-other-site.vercel.app`

**–¢–∞–±–ª–∏—Ü—ã –≤ Supabase** (—Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–∏):
- `your_table_1` - –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ
- `your_table_2` - –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ

**–§–∞–π–ª `.env.local`** (—Ç–µ –∂–µ credentials!):
```env
NEXT_PUBLIC_SUPABASE_URL=https://imcszsrkfjclekohqebc.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à-anon-key
```

**–í–∞–∂–Ω–æ**: –û–±–∞ —Å–∞–π—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ** Supabase credentials!

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ Wordly
```
1. –ù–∞–∂–∏–º–∞–µ—Ç "Continue with Google"
2. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ Google
3. –í—ã–±–∏—Ä–∞–µ—Ç –∞–∫–∫–∞—É–Ω—Ç
4. Google –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞: https://imcszsrkfjclekohqebc.supabase.co/auth/v1/callback
5. Supabase –ø—Ä–æ–≤–µ—Ä—è–µ—Ç redirect URL –≤ —Å–ø–∏—Å–∫–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö
6. Supabase –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞: https://wordly.vercel.app/auth/callback
7. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω!
```

### 2. –¢–æ—Ç –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ –≤–∞—à –≤—Ç–æ—Ä–æ–π —Å–∞–π—Ç
```
1. –ù–∞–∂–∏–º–∞–µ—Ç "Continue with Google"
2. Google –≤–∏–¥–∏—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ (–±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥–∞!)
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –Ω–∞ –≤—Ç–æ—Ä–æ–º —Å–∞–π—Ç–µ!
```

### 3. –î–∞–Ω–Ω—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã
```sql
-- Wordly: —Ç–∞–±–ª–∏—Ü–∞ flashcards
SELECT * FROM flashcards WHERE user_id = 'user-123';

-- –í–∞—à –≤—Ç–æ—Ä–æ–π —Å–∞–π—Ç: —Ç–∞–±–ª–∏—Ü–∞ your_table_1
SELECT * FROM your_table_1 WHERE user_id = 'user-123';

-- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (user-123), –Ω–æ —Ä–∞–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### Row Level Security (RLS)

–ö–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏:

```sql
-- –ü—Ä–∏–º–µ—Ä –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã flashcards (Wordly)
CREATE POLICY "Users can view own flashcards" ON flashcards
  FOR SELECT
  USING (auth.uid() = user_id);

-- –ü—Ä–∏–º–µ—Ä –¥–ª—è –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü—ã (–≤—Ç–æ—Ä–æ–π —Å–∞–π—Ç)
CREATE POLICY "Users can view own data" ON your_table_1
  FOR SELECT
  USING (auth.uid() = user_id);
```

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ:
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –î–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É —Å–∞–π—Ç–∞–º–∏ –Ω–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è
- ‚úÖ –ü–æ–ª–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

---

## –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–ª—è Wordly (–ø–æ—Ä—Ç 3000)
```bash
cd /path/to/wordly
npm run dev
# –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ http://localhost:3000
```

### –î–ª—è –≤—Ç–æ—Ä–æ–≥–æ —Å–∞–π—Ç–∞ (–ø–æ—Ä—Ç 3001)
```bash
cd /path/to/your-other-site
npm run dev -- -p 3001
# –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ http://localhost:3001
```

**–í–∞–∂–Ω–æ**: –î–æ–±–∞–≤—å—Ç–µ –æ–±–∞ –ø–æ—Ä—Ç–∞ –≤ Google OAuth –∏ Supabase Redirect URLs!

---

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚ùå –û—à–∏–±–∫–∞: "redirect_uri_mismatch"

**–ü—Ä–∏—á–∏–Ω–∞**: URL —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Google Cloud Console

**–†–µ—à–µ–Ω–∏–µ**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Google Cloud Console ‚Üí Credentials
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à OAuth Client
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ—á–Ω—ã–π URL –∏–∑ –æ—à–∏–±–∫–∏ –≤ **Authorized redirect URIs**
4. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 –º–∏–Ω—É—Ç (–∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–µ —Å—Ä–∞–∑—É)

### ‚ùå –û—à–∏–±–∫–∞: "Invalid redirect URL"

**–ü—Ä–∏—á–∏–Ω–∞**: URL –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Supabase Redirect URLs

**–†–µ—à–µ–Ω–∏–µ**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase ‚Üí Authentication ‚Üí URL Configuration
2. –î–æ–±–∞–≤—å—Ç–µ URL –≤ **Redirect URLs**
3. –ù–µ –∑–∞–±—É–¥—å—Ç–µ `/**` –≤ –∫–æ–Ω—Ü–µ
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –Ω–∞ –≤—Ç–æ—Ä–æ–º —Å–∞–π—Ç–µ

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ –¥–æ–±–∞–≤–ª–µ–Ω –¥–æ–º–µ–Ω –≤—Ç–æ—Ä–æ–≥–æ —Å–∞–π—Ç–∞

**–†–µ—à–µ–Ω–∏–µ**:
1. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω –≤ Google Cloud Console (Authorized redirect URIs)
2. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω –≤ Supabase (Redirect URLs)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–±–∞ —Å–∞–π—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ Supabase credentials

### ‚ùå –î–∞–Ω–Ω—ã–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–∞–π—Ç–∞–º–∏

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã RLS –ø–æ–ª–∏—Ç–∏–∫–∏

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ RLS –≤–∫–ª—é—á–µ–Ω –Ω–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö:
   ```sql
   ALTER TABLE your_table ENABLE ROW LEVEL SECURITY;
   ```
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `auth.uid() = user_id`

---

## –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### ‚úÖ Google Cloud Console
- [ ] –°–æ–∑–¥–∞–Ω OAuth Client ID
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –¥–æ–º–µ–Ω—ã –≤ Authorized JavaScript origins
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ redirect URIs (–≤–∫–ª—é—á–∞—è Supabase callback)
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã Client ID –∏ Client Secret

### ‚úÖ Supabase
- [ ] Google –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤–∫–ª—é—á–µ–Ω
- [ ] Client ID –∏ Client Secret –≤—Å—Ç–∞–≤–ª–µ–Ω—ã
- [ ] Site URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –í—Å–µ –¥–æ–º–µ–Ω—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Redirect URLs (—Å `/**`)
- [ ] RLS –≤–∫–ª—é—á–µ–Ω –Ω–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- [ ] –°–æ–∑–¥–∞–Ω—ã RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã

### ‚úÖ –ö–∞–∂–¥—ã–π —Å–∞–π—Ç
- [ ] –§–∞–π–ª `.env.local` —Å–æ–∑–¥–∞–Ω
- [ ] Supabase URL –∏ Anon Key –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] Auth context –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Callback route —Å–æ–∑–¥–∞–Ω (`/auth/callback/route.ts`)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

```
Supabase Project: tiny-life-coach
‚îú‚îÄ‚îÄ Authentication
‚îÇ   ‚îú‚îÄ‚îÄ Users (–æ–±—â–∏–µ –¥–ª—è –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user-123 (–º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –Ω–∞ –≤—Å–µ —Å–∞–π—Ç—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user-456
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user-789
‚îÇ   ‚îî‚îÄ‚îÄ Providers
‚îÇ       ‚îî‚îÄ‚îÄ Google (–Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤)
‚îÇ
‚îî‚îÄ‚îÄ Database
    ‚îú‚îÄ‚îÄ Wordly Tables
    ‚îÇ   ‚îú‚îÄ‚îÄ flashcards (user_id = user-123)
    ‚îÇ   ‚îî‚îÄ‚îÄ quiz_results (user_id = user-123)
    ‚îÇ
    ‚îî‚îÄ‚îÄ Your Other Site Tables
        ‚îú‚îÄ‚îÄ your_table_1 (user_id = user-123)
        ‚îî‚îÄ‚îÄ your_table_2 (user_id = user-123)
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º
–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `app_name` –≤ —Ç–∞–±–ª–∏—Ü—ã:

```sql
ALTER TABLE flashcards ADD COLUMN app_name TEXT DEFAULT 'wordly';
ALTER TABLE your_table_1 ADD COLUMN app_name TEXT DEFAULT 'your-app';
```

### –û–±—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã
–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤:

```sql
CREATE TABLE user_profiles (
  user_id UUID PRIMARY KEY REFERENCES auth.users(id),
  display_name TEXT,
  avatar_url TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ, —Å –∫–∞–∫–æ–≥–æ —Å–∞–π—Ç–∞ –ø—Ä–∏—à–µ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:

```sql
CREATE TABLE user_sessions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users(id),
  app_name TEXT,
  logged_in_at TIMESTAMP DEFAULT NOW()
);
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Supabase –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∞–π—Ç–æ–≤:
- ‚úÖ **–≠–∫–æ–Ω–æ–º–∏—á–Ω–æ** - –æ–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç –≤–º–µ—Å—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö
- ‚úÖ **–£–¥–æ–±–Ω–æ** - –µ–¥–∏–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ RLS
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–∞–π—Ç—ã

–°–ª–µ–¥—É–π—Ç–µ —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∏ —É –≤–∞—Å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—é—â–∞—è –º—É–ª—å—Ç–∏-—Å–∞–π—Ç–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è! üöÄ

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Supabase Auth Documentation](https://supabase.com/docs/guides/auth)
- [Google OAuth Documentation](https://developers.google.com/identity/protocols/oauth2)
- [Row Level Security Guide](https://supabase.com/docs/guides/auth/row-level-security)

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º" –≤—ã—à–µ! üí™
